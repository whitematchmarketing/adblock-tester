{"version":3,"sources":["scripts/variables.ts","scripts/helpers.ts","scripts/handleLoading.ts"],"names":[],"mappings":";;;;;;AEAA,ADAA,ICAA,ADAA,WCAA,ADAA,GCAA,ADAA,OCAA,ADAA,CCAA,ADAA,aCAA,ADAA,CCAA,ADAA;;ACKA,ADHA,ICGA,ADHM,SCGN,CDHgB,ECGhB,CDHmB,MCGnB,CAAA,EDHM,SCGN,CAAA,ADHmB,GAAA;AACjB,MAAI,cAAc,GAAG,KAArB;ACcF,IAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,MAAD,EAAe;AAAK,ADbxC,MAAI,GCaoC,UAAC,GAAD,EAAa;AACrD,ADbE,QCaI,ADbA,KAAK,CCaC,EDbE,CCaC,GAAG,ADbA,CCcf,OADY,CACJ,IADI,ADbD,CAAkB,CCe7B,aAFY,CAEE,MAAI,UDfP,CCeO,ADfnB,CCemB,uBAAJ,GAA2B,GAF7B,CAAf;;AAIA,ADhBE,QCgBE,ADhBE,CCgBD,IDhBH,ECgBF,ADhBa,ECgBA;AACX,ADhBE,MCgBF,ADhBE,OCgBK,CAAC,IAAR,CAAa,CDhBG,GAAG,ICgBA,ADhBjB,WCgBiB,CAAA,uBAAN,GAA6B,YAA1C,EAAwD,GAAxD;AACA,ADhBC;ACiBF,ADhBA,GALD,CAKE,OAAO,CAAP,EAAU;AACV,QAAI,SAAS,CAAC,SAAV,CAAoB,+BAApB,KAAwD,SAA5D,EAAuE;ACiBzE,ADhBI,ADXO,IE2BX,EDhBI,CDXO,CAAA,KE2BX,CAAA,MDhBkB,GAAG,IAAjB,CDXO,CE2BX,CAAgB,CF3BkB,KE2BlC,EAAwB,UF3Bb,CE2Ba,CAAA,uBAAxB,EAAiD,MAAjD;AACD,ADhBI,ADXQ,GEgB6B,IFhB7B,CAAA,oBAAA,GAAuB,iBAAvB;AE2BZ,ADfE,ADXU,CEeb,MFfa,CAAA,uBAAA,GAA0B,oBAA1B;AACA,OAAA,CAAA,qBAAA,GAAwB,kBAAxB;AE2Bb,ADhBE,ADVW,ME0BP,CAAC,AF1BM,CAAA,CCUJ,KCgBT,GAAiB,KAAK,CAAC,ADhBrB,IDVW,GE0Bb,AF1BmC,sBAAtB;AE2Bb,ADhBC,ADVY,CCHb,KC6BM,CAAC,AF1BM,CAAA,YAAA,CE0Bb,EF1B4B,CE0BJ,SAAA,CAAA,GF1BX,WE0Bb;AACA,AF1Ba,ME0BP,CAAC,AF1BM,CAAA,SE0Bb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","file":"handleLoading.6e8f07e4.js","sourceRoot":"../src","sourcesContent":["export const CHECK_EVAL_ATTRIBUTE = \"data-check-eval\";\nexport const CHECK_SIZE_ATTRIBUTE = \"data-check-size\";\nexport const CHECK_LOADING_ATTRIBUTE = \"data-check-loading\";\nexport const CHECK_FETCH_ATTRIBUTE = \"data-check-fetch\";\nexport const CHECK_VAR_ATTRIBUTE = \"data-check-variables\";\nexport const ITEM_BLOCKED = \"data-blocked\";\nexport const ITEM_FINAL_BLOCKED = \"data-final-blocked\";\n\nexport const STATUS_LOADING_SUCCESS = \"success\";\nexport const STATUS_LOADING_FAILURE = \"failure\";\n\nexport const $finalScorePercent = document.querySelector(\n  \".js-final-score-percent\"\n);\nexport const $finalScoreSuccess = document.querySelector(\n  \".js-final-score-success\"\n);\nexport const $finalScoreCount = document.querySelector(\".js-final-score-count\");\n\nexport const $checkLoadings = [\n  ...document.querySelectorAll(`[${CHECK_LOADING_ATTRIBUTE}]`)\n];\nexport const $checkVars = [\n  ...document.querySelectorAll(`[${CHECK_VAR_ATTRIBUTE}]`)\n];\nexport const $checkSizes = [\n  ...document.querySelectorAll(`[${CHECK_SIZE_ATTRIBUTE}]`)\n];\nexport const $checkEvals = [\n  ...document.querySelectorAll(`[${CHECK_EVAL_ATTRIBUTE}]`)\n];\nexport const $checkFetchs = [\n  ...document.querySelectorAll(`[${CHECK_FETCH_ATTRIBUTE}]`)\n];\nexport const $itemResults = [...document.querySelectorAll(`[${ITEM_BLOCKED}]`)];\n","import { ITEM_BLOCKED } from \"./variables\";\n\nconst checkFlash = () => {\n  var flashAvailable = false;\n  try {\n    var flash = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");\n    if (flash) {\n      flashAvailable = true;\n    }\n  } catch (e) {\n    if (navigator.mimeTypes[\"application/x-shockwave-flash\"] != undefined) {\n      flashAvailable = true;\n    }\n  }\n  return flashAvailable;\n};\n\nexport const flashSupported = checkFlash();\n\nexport const extendAttribute = (\n  $el: Element,\n  attrName: string,\n  value: string | boolean\n) => {\n  const prevValue = $el.getAttribute(attrName);\n  const optionalSlash = prevValue ? \"/\" : \"\";\n  $el.setAttribute(attrName, prevValue + optionalSlash + value);\n};\n\nexport const updateResult = ($el: Element, blocked: boolean) => {\n  const $input = $el.closest(\"li\").querySelector(`[${ITEM_BLOCKED}]`);\n  extendAttribute($input, ITEM_BLOCKED, blocked);\n};\n\nexport function deepFind(path: string, obj: object = window) {\n  var paths = path.split(\".\"),\n    current = obj;\n\n  for (var i = 0; i < paths.length; ++i) {\n    if (current[paths[i]] == undefined) {\n      return undefined;\n    } else {\n      current = current[paths[i]];\n    }\n  }\n  return current;\n}\n","import {\n  CHECK_LOADING_ATTRIBUTE,\n  STATUS_LOADING_SUCCESS,\n  STATUS_LOADING_FAILURE\n} from \"./variables\";\nimport { extendAttribute, flashSupported } from \"./helpers\";\n\ndeclare global {\n  interface Window {\n    handleLoad: Function;\n    handleError: Function;\n    imageError: Function;\n    isArray: Function;\n    flashSupported: boolean;\n  }\n}\n\nconst handleFactory = (result: string) => ($el: Element) => {\n  const $input = $el\n    .closest(\"li\")\n    .querySelector(`[${CHECK_LOADING_ATTRIBUTE}]`);\n\n  if (!$input) {\n    console.warn(`No ${CHECK_LOADING_ATTRIBUTE} in parent`, $el);\n    return;\n  }\n\n  extendAttribute($input, CHECK_LOADING_ATTRIBUTE, result);\n};\n\nwindow.isArray = Array.isArray;\nwindow.flashSupported = flashSupported;\nwindow.handleLoad = handleFactory(STATUS_LOADING_SUCCESS);\nwindow.handleError = handleFactory(STATUS_LOADING_FAILURE);\nwindow.imageError = (el: Element) => el.parentElement.removeChild(el);\n"]}