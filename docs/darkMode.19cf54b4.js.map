{"version":3,"sources":["scripts/darkMode.ts"],"names":[],"mappings":";AAEA,IAAM,EAAO,OACP,EAAQ,QACR,EAAiB,SAAS,cAAc,sBAExC,EAAa,SAAC,GAAiB,OAAA,SAAS,gBAAgB,aAAa,eAAgB,IACrF,EAAY,SAAC,GAAiB,OAAA,aAAa,QAAQ,eAAgB,IACnE,EAAc,SAAC,GAAiB,OAAA,IAAU,GAC1C,EAAsB,SAAC,GAAqB,OAAA,EAAS,EAAO,GAC5D,EAAc,SAAC,GAAkB,OAAA,IAAU,EAAO,EAAO,GACzD,EAAiB,WACf,IAAA,EAAc,aAAa,QAAQ,gBACnC,EAAmB,WAAW,gCAAgC,QAAU,EAAO,EAC9E,OAAA,GAAe,GAAoB,GAGtC,EAAoB,SAAC,GACzB,EAAM,2BACA,IAAA,EAAS,EAAM,OACf,EAAW,EAAY,EAAoB,EAAO,UACxD,EAAU,GACV,EAAW,IAGP,EAAuB,SAAC,GAAkB,OAAA,EAAe,QAAU,EAAY,KAErF,WACQ,IAAA,EAAc,IACpB,EAAqB,GACrB,EAAW,GAEX,EAAe,iBAAiB,SAAU,GAAmB,GAL/D","file":"darkMode.19cf54b4.js","sourceRoot":"../src","sourcesContent":["type Theme = typeof DARK | typeof LIGHT;\n\nconst DARK = \"dark\";\nconst LIGHT = \"light\";\nconst $themeSwitcher = document.querySelector(\".js-theme-switcher\") as HTMLInputElement;\n\nconst applyTheme = (theme: Theme) => document.documentElement.setAttribute(\"color-scheme\", theme);\nconst saveTheme = (theme: Theme) => localStorage.setItem(\"color-scheme\", theme);\nconst isDarkTheme = (theme: Theme) => theme === DARK;\nconst getThemeFromBoolean = (isDark: boolean) => (isDark ? DARK : LIGHT);\nconst invertTheme = (theme: Theme) => (theme === DARK ? DARK : LIGHT);\nconst getActiveTheme = () => {\n  const savedScheme = localStorage.getItem(\"color-scheme\");\n  const mediaQueryScheme = matchMedia(\"(prefers-color-scheme: dark)\").matches ? DARK : LIGHT;\n  return savedScheme || mediaQueryScheme || DARK;\n};\n\nconst handleThemeChange = (event: InputEvent) => {\n  event.stopImmediatePropagation();\n  const target = event.target as HTMLInputElement;\n  const newValue = invertTheme(getThemeFromBoolean(target.checked));\n  saveTheme(newValue);\n  applyTheme(newValue);\n};\n\nconst syncThemeAndSwitcher = (theme: Theme) => ($themeSwitcher.checked = isDarkTheme(theme));\n\n(function init() {\n  const activeTheme = getActiveTheme();\n  syncThemeAndSwitcher(activeTheme);\n  applyTheme(activeTheme);\n\n  $themeSwitcher.addEventListener(\"change\", handleThemeChange, false);\n})();\n"]}